# AI駆動開発統合プラン

**作成日**: 2026-01-09
**ステータス**: 新規策定
**参照**: 外山英幸氏（ビズリーチCTO）の思想を統合

---

## 1. エグゼクティブサマリー

### 1.1 本プランの目的

従来の「技術アーキテクチャ中心」の中長期計画に、**AI駆動開発の組織・プロセス変革**を統合する。

外山氏の核心的洞察：
> **「AIは効率化ツールではなく、組織設計の前提。」**
> **「AIをどう活用するかではなく、AIが常に隣に存在する環境で、人と組織をどう再設計するか。」**

### 1.2 統合アプローチ

| 既存計画 | 外山思想の統合 |
|---------|--------------|
| 技術スタック選定 | → **GREENへの戻りやすさ**を軸とした技術選定 |
| Phase別ロードマップ | → **Phase Model**（仕様駆動→自律駆動→共進化駆動）の重ね合わせ |
| マイクロサービス設計 | → **三権分立**（立法・行政・司法）の構造適用 |
| 開発プロセス | → **機能2:ガードレール8**の比率への移行 |

---

## 2. 三権分立アーキテクチャ

### 2.1 概念の適用

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                         ボイスメモ 三権分立アーキテクチャ                                │
│                                                                                     │
│  ┌────────────────────────────────────────────────────────────────────────────────┐ │
│  │                           【立法】人間が担う                                      │ │
│  │                                                                                │ │
│  │   ・目的の定義（何を実現するか）                                                  │ │
│  │   ・制約の設計（どこに線を引くか）                                                │ │
│  │   ・意図の境界線（どこからAIに委ねるか）                                          │ │
│  │   ・ガードレールの策定（縦と横）                                                  │ │
│  │                                                                                │ │
│  │   成果物:                                                                       │ │
│  │   ├── CLAUDE.md（プロジェクト指示）                                             │ │
│  │   ├── アーキテクチャガードレール                                                 │ │
│  │   ├── ドメインルール                                                            │ │
│  │   └── 品質基準                                                                  │ │
│  └────────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                            │
│                                        ▼                                            │
│  ┌────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         【行政】AIが担う                                         │ │
│  │                                                                                │ │
│  │   ・意図の解釈と実装                                                            │ │
│  │   ・調査・構造化・生成                                                          │ │
│  │   ・テスト作成・実行                                                            │ │
│  │   ・一連の工程を自律的に実行                                                    │ │
│  │                                                                                │ │
│  │   実行主体:                                                                     │ │
│  │   ├── Claude Code（開発エージェント）                                           │ │
│  │   ├── サブエージェント（専門タスク）                                            │ │
│  │   └── CI/CDパイプライン                                                         │ │
│  └────────────────────────────────────────────────────────────────────────────────┘ │
│                                        │                                            │
│                                        ▼                                            │
│  ┌────────────────────────────────────────────────────────────────────────────────┐ │
│  │                         【司法】AIが担う                                         │ │
│  │                                                                                │ │
│  │   ・行政AIの挙動を監視                                                          │ │
│  │   ・ガードレールからの逸脱を検知                                                │ │
│  │   ・RED/GREEN状態の判定                                                         │ │
│  │                                                                                │ │
│  │   検査レイヤー:                                                                 │ │
│  │   ├── 静的解析（Ruff, mypy, SwiftLint）                                        │ │
│  │   ├── アーキテクチャテスト（依存の向き）                                        │ │
│  │   ├── ユニット/統合テスト                                                       │ │
│  │   └── LLMベースのコードレビュー                                                 │ │
│  └────────────────────────────────────────────────────────────────────────────────┘ │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 2.2 行政AIと司法AIの分離原則

> **「実行する者が、自分の動きを自分で監査することはできない。」**

| 役割 | 実行主体 | 独立性 |
|------|---------|-------|
| **行政AI** | Claude Code（実装） | 意図→実装を自律実行 |
| **司法AI** | 別エージェント/静的解析 | 行政AIとは独立して検査 |

**実装例:**
```yaml
# サブエージェント構成
agents:
  - name: implementation-agent    # 行政AI
    role: 実装・テスト作成
    permissions: [read, write, execute]

  - name: review-agent            # 司法AI
    role: コードレビュー・品質検査
    permissions: [read]            # 書き込み権限なし

  - name: architecture-agent      # 司法AI
    role: 構造検査
    permissions: [read]
```

---

## 3. Phase Model の統合

### 3.1 開発プロセスの進化段階

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                              開発 Phase Model                                        │
│                                                                                     │
│  Phase 1         Phase 2         Phase 3         Phase 4         Phase 5           │
│  仕様駆動        自律駆動        共進化駆動      意図駆動        文化駆動           │
│  ──────────────────────────────────────────────────────────────────────────────     │
│                                                                                     │
│  ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐    ┌─────────┐          │
│  │人がプロンプト│ → │ガードレール│ → │ガードレール│ → │意図だけ  │ → │組織文化が│          │
│  │を書く    │    │が主語    │    │が進化    │    │を渡す    │    │AIを導く │          │
│  └─────────┘    └─────────┘    └─────────┘    └─────────┘    └─────────┘          │
│                                                                                     │
│  【限界】         【到達点】                                                         │
│  ・コンテキスト   ・累積成長に     ・プロダクトが   ・人は境界の    ・暗黙知が       │
│   が際限なく増加   耐えられる       自己更新する     改正に集中      累積知に         │
│  ・人だけが疲弊                                                                      │
│                                                                                     │
│  ← 現在地 →                                                                         │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 3.2 既存Phaseとの対応関係

| 技術Phase | 開発Phase | 重点 |
|-----------|-----------|------|
| **Phase 1**: iOS基盤構築 | **仕様駆動** | AIに詳細仕様を渡して実装 |
| **Phase 1.5**: ローカルMac | **仕様駆動→自律駆動移行** | ガードレール整備開始 |
| **Phase 2**: クラウド移行 | **自律駆動** | ガードレールが主語に |
| **Phase 3**: Web版開発 | **自律駆動成熟** | 機能2:ガードレール8 |
| **Phase 4**: CRM連携 | **共進化駆動** | ガードレール自体が進化 |
| **Phase 5**: 最適化 | **意図駆動へ** | 意図のみで開発完結 |

### 3.3 時間配分の変化

```
Phase 1 (仕様駆動):
  機能開発 ████████ 80%
  ガードレール ██ 20%

Phase 2 (自律駆動):
  機能開発 ██ 20%
  ガードレール ████████ 80%

  → 「機能2:ガードレール8」の世界
```

> **「Phase2に入ると、Phase1で一週間かかっていたことが、一日で終わるようになる。」**

---

## 4. 縦と横のガードレール設計

### 4.1 ガードレールの構造

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          縦と横のガードレール                                          │
│                                                                                     │
│  ┌────────────────────────────────────────────────────────────────────────────┐    │
│  │                      【横のガードレール】非機能の憲法                          │    │
│  │                                                                            │    │
│  │   ・アーキテクチャ原則                                                       │    │
│  │   ・依存の向き（Domain → UseCase → Infrastructure の順）                    │    │
│  │   ・責務の境界（ビジネスロジックはDomainに閉じる）                            │    │
│  │   ・ロジックを置いてよい場所/いけない場所                                    │    │
│  │   ・命名規約・コーディング規約                                               │    │
│  │   ・観測可能な設計（可観測性）                                               │    │
│  │                                                                            │    │
│  │   → 行政AIが実装の前提とし、司法AIが逸脱を検知する基準                       │    │
│  └────────────────────────────────────────────────────────────────────────────┘    │
│                                        │                                            │
│  ┌──────────────┬──────────────┬──────────────┬──────────────┐                    │
│  │              │              │              │              │                    │
│  ▼              ▼              ▼              ▼              ▼                    │
│  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐  ┌────────┐                      │
│  │  UX    │  │  UI    │  │ビジネス│  │  API   │  │ 非機能 │                      │
│  │ (E2E)  │  │ロジック │  │ロジック │  │  契約  │  │  要件  │                      │
│  │        │  │ (IT)   │  │(Domain)│  │(OpenAPI)│  │        │                      │
│  └────────┘  └────────┘  └────────┘  └────────┘  └────────┘                      │
│                                                                                     │
│  │              【縦のガードレール】機能の検証体系                │                    │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 4.2 ボイスメモアプリへの適用

#### 横のガードレール（非機能の憲法）

```markdown
# GUARDRAILS_HORIZONTAL.md

## 1. アーキテクチャ原則

### 依存の向き
- Domain層は外部依存を持たない
- UseCase層はDomain層のみに依存
- Infrastructure層は全層に依存可能だが、Domain層を変更してはならない

### 責務の境界
- ビジネスロジックは必ずDomain層に配置
- UseCaseは「流れを編む」だけ
- Repositoryは永続化のみ（判断を含まない）

### 時間の扱い
- 現在時刻は必ず外部から注入（テスト可能性確保）
- Domain内でDate()を直接呼ばない

### 副作用の分離
- API呼び出し、DB操作は境界の外側へ
- Domainは純粋関数として実装可能な設計

## 2. 命名規約

### Swift (iOS)
- Protocol: 動詞+able/ing（例: Recordable, Transcribing）
- Service: 名詞+Service（例: TranscriptionService）
- UseCase: 動詞+UseCase（例: StartRecordingUseCase）

### Python (Backend)
- Service: snake_case（例: transcription_service）
- Domain: 名詞のみ（例: Recording, Transcript）

## 3. 観測可能性

- 全てのService呼び出しはログ出力必須
- エラーは構造化ログとして出力
- トレースIDを伝播
```

#### 縦のガードレール（機能の検証体系）

| 層 | 検証内容 | ツール |
|----|---------|--------|
| **UX (E2E)** | 録音→文字起こし→表示の一連フロー | XCUITest, Playwright |
| **UIロジック (IT)** | 状態遷移、分岐の正しさ | Swift Testing, Jest |
| **ビジネスロジック** | ドメインルール（例: 録音時間制限） | Property-based testing |
| **API契約** | OpenAPI準拠、型検証 | Spectral, Pact |
| **非機能** | パフォーマンス、セキュリティ | k6, Trivy |

### 4.3 REDとGREENへの戻りやすさ

> **「REDを出すことは難しくない。GREENへ戻る道を構造として持てるかどうか。」**

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                         GREENへの戻りやすさの設計                                     │
│                                                                                     │
│  【悪い構造】REDの原因が見えない                                                      │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  UseCase に ビジネスロジック が漏れ出している                                  │   │
│  │  → REDが出ても、原因がDomainかUseCaseか特定できない                           │   │
│  │  → 行政AIが立ち尽くす                                                         │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  【良い構造】GREENへの道が明確                                                        │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  横のガードレールが整っている                                                  │   │
│  │  → Domainのテストが落ちたら、原因はDomain                                      │   │
│  │  → UseCaseのテストが落ちたら、流れの問題                                       │   │
│  │  → 行政AIが構造に従って修正できる                                              │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  技術選定の新しい軸:                                                                 │
│  「GREENへの戻りやすさを構造として担保できるか」                                       │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 5. 暗黙知から累積知へ

### 5.1 変換の仕組み

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          暗黙知 → 累積知 の変換                                       │
│                                                                                     │
│  【Before】暗黙知（人の頭の中）                                                       │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  「この設計は後で腐る」                                                        │   │
│  │  「この分割は文脈を壊す」                                                      │   │
│  │  「この命名は未来の読み手を迷わせる」                                          │   │
│  │  → レビューのたびに人間が判断                                                  │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                        │                                            │
│                                        ▼ 外部化                                      │
│                                                                                     │
│  【After】累積知（仕組みとして存在）                                                  │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  ・CLAUDE.md（プロジェクト指示）                                               │   │
│  │  ・アーキテクチャテスト（依存の向きを自動検査）                                │   │
│  │  ・カスタムLintルール（命名規約の強制）                                        │   │
│  │  ・プロンプトテンプレート（設計意図の埋め込み）                                │   │
│  │  → 行政AIがこれを「前提」として動く                                            │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 5.2 CLAUDE.md の進化

```markdown
# CLAUDE.md（累積知の蓄積場所）

## Phase 1: 基本指示
- プロジェクト概要
- 技術スタック
- 基本的なコーディング規約

## Phase 2: ガードレール統合
- アーキテクチャ原則
- 禁止パターン
- 推奨パターン
- テスト戦略

## Phase 3: 共進化対応
- 過去の設計判断とその理由
- 例外とその根拠
- 廃止されたルールとその経緯
- 新しいパターンの導入履歴
```

---

## 6. 統合ロードマップ

### 6.1 技術Phase × 開発Phase マトリクス

| 期間 | 技術Phase | 開発Phase | 主要タスク | 時間配分 |
|------|-----------|-----------|-----------|---------|
| **2026 Q1** | Phase 1 iOS基盤 | 仕様駆動 | iOS実装、初期CLAUDE.md作成 | 機能8:GR2 |
| **2026 Q1-Q2** | Phase 1.5 ローカルMac | 仕様→自律移行 | 横のガードレール整備開始 | 機能6:GR4 |
| **2026 Q2-Q3** | Phase 2 クラウド移行 | 自律駆動 | 三権分立構造確立、テスト体系整備 | 機能4:GR6 |
| **2026 Q3-Q4** | Phase 3 Web版 | 自律駆動成熟 | クロスプラットフォームガードレール | 機能2:GR8 |
| **2026 Q4** | Phase 4 CRM連携 | 共進化駆動 | ガードレール自動進化、監査ループ | 機能2:GR8 |
| **2027 Q1+** | Phase 5 最適化 | 意図駆動へ | 意図のみで開発完結 | 機能1:GR9 |

### 6.2 各Phase詳細

#### Phase 1: 仕様駆動（現在）

**目標**: iOS基盤を完成させつつ、ガードレールの土台を作る

```
開発フロー:
┌─────────┐    ┌─────────┐    ┌─────────┐
│ 人間が   │ → │ AIが    │ → │ 人間が  │
│ 仕様を書く│    │ 実装    │    │レビュー │
└─────────┘    └─────────┘    └─────────┘
```

**タスク**:
1. CLAUDE.md 初版作成
2. Swift アーキテクチャ原則の明文化
3. 基本テスト戦略の策定
4. SwiftData/Keychain実装

**限界の認識**:
- コンテキストウィンドウへの依存
- 毎回の仕様整形負荷
- 人間のレビュー負荷

#### Phase 1.5-2: 自律駆動への移行

**目標**: ガードレールが主語になる世界への移行

```
開発フロー:
┌─────────┐    ┌─────────────────────┐    ┌─────────┐
│ 人間が   │ → │ AIが自律実装        │ → │ 司法AIが │
│ 意図を示す│    │ ガードレール参照     │    │ 検査    │
└─────────┘    │ 自己修正            │    └─────────┘
               └─────────────────────┘
```

**タスク**:
1. **横のガードレール確立**
   - 依存の向きを検査するアーキテクチャテスト
   - 責務違反を検知するLintルール
   - 命名規約の自動チェック

2. **縦のガードレール整備**
   - E2Eテストスイート構築
   - ドメインテスト（Property-based）
   - API契約テスト（OpenAPI）

3. **司法AIの導入**
   - コードレビューエージェントの設定
   - サブエージェント権限分離
   - CI/CD統合

#### Phase 3-4: 共進化駆動

**目標**: ガードレール自体が進化する構造

```
循環フロー:
┌─────────────────────────────────────────────────────────┐
│                                                         │
│  人間（立法）                                            │
│       │                                                 │
│       ▼                                                 │
│  ガードレール ──────────────────────┐                   │
│       │                            │                   │
│       ▼                            │                   │
│  行政AI（実装）                      │                   │
│       │                            │                   │
│       ▼                            │ ズレを検出         │
│  司法AI（検査）─────────────────────┘                   │
│       │                                                 │
│       ▼                                                 │
│  ズレのレポート → 人間が改正 → ガードレール更新          │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**タスク**:
1. ルールと実装のズレを検査する仕組み
2. ガードレール改正プロセスの確立
3. 改正履歴の蓄積
4. 自動提案機能（AIがルール改正を提案）

---

## 7. ボイスメモアプリ固有の設計

### 7.1 ドメインモデルへの適用

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                         ボイスメモ ドメイン設計                                        │
│                                                                                     │
│  【横のガードレール】                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  Recording Domain                                                           │   │
│  │  ├── 録音は最大60分まで（ビジネスルール）                                    │   │
│  │  ├── 音声フォーマットはm4a/webmのみ（制約）                                  │   │
│  │  └── 録音中の状態遷移は不可逆（設計原則）                                    │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  【縦のガードレール】                                                                 │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  Recording の検証体系                                                        │   │
│  │                                                                             │   │
│  │  E2E: 録音開始→停止→保存→一覧表示→再生の一連フロー                          │   │
│  │  IT:  RecordingViewModel の状態遷移テスト                                    │   │
│  │  Domain: Recording エンティティのプロパティ不変条件                          │   │
│  │  Contract: /api/v2/recordings の OpenAPI 準拠                               │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  Transcription Domain                                                       │   │
│  │  ├── 同一録音への重複処理は冪等（ビジネスルール）                            │   │
│  │  ├── 処理状態: pending → processing → completed → analyzed（状態機械）      │   │
│  │  └── 話者識別は最大10人まで（制約）                                          │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 7.2 サービス間通信への三権分立適用

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                    マイクロサービス × 三権分立                                        │
│                                                                                     │
│  【立法】人間が定義                                                                   │
│  ├── API契約（OpenAPI仕様）                                                         │
│  ├── イベントスキーマ（Pub/Subメッセージ形式）                                       │
│  ├── 認証・認可ポリシー                                                             │
│  └── SLA定義（レイテンシ、可用性）                                                   │
│                                                                                     │
│  【行政】AIが実装                                                                     │
│  ├── Recording Service（録音受付）                                                  │
│  ├── Transcription Service（文字起こし）                                            │
│  ├── Storage Service（データ管理）                                                   │
│  ├── Search Service（検索）                                                          │
│  └── CRM Gateway（外部連携）                                                         │
│                                                                                     │
│  【司法】AIが監視                                                                     │
│  ├── 契約違反検知（Pact, OpenAPI Validator）                                        │
│  ├── 認証エラー監視                                                                 │
│  ├── SLA違反アラート                                                                │
│  └── セキュリティスキャン                                                           │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 8. 技術選定の再評価

### 8.1 新しい選定軸

> **「技術選定とは、便利さを選ぶ行為ではなくなる。GREENへの戻りやすさを選ぶ行為になる。」**

| 従来の軸 | AI駆動での新しい軸 |
|---------|------------------|
| 機能の実現しやすさ | **責務分離の強制力** |
| 学習コスト | **AIが構造を理解しやすいか** |
| エコシステムの充実度 | **静的解析・テストツールの充実度** |
| パフォーマンス | **REDからGREENへの戻りやすさ** |

### 8.2 選定の再確認

| 技術 | GREENへの戻りやすさ | 評価 |
|------|-------------------|------|
| **Swift + SwiftData** | 型安全性が高く、コンパイル時エラーでREDが明確 | ◎ |
| **Python + FastAPI** | Pydanticで型強制、明確なエラー | ○ |
| **Cloud Run** | ステートレスで責務が明確、ログ追跡容易 | ◎ |
| **Firestore** | スキーマレスだが、Firestoreルールで制約可能 | ○ |
| **ChromaDB** | シンプルなAPI、エラーが特定しやすい | ○ |

### 8.3 追加検討事項

| 観点 | 対応策 |
|------|--------|
| **アーキテクチャテスト** | Swift: swift-architectureテスト、Python: import-linter |
| **契約テスト** | Pact導入（サービス間契約の自動検証） |
| **静的解析強化** | SwiftLint厳格化、Ruff + mypy + bandit |
| **可観測性** | OpenTelemetry統合、構造化ログ標準化 |

---

## 9. 組織・チーム設計への示唆

### 9.1 役割の再定義

> **「AIが変えるのは職種ではなく、役割の境界。」**
> **「人の役割はAIが拾えない抽象度のインテントを扱う領域に集約される。」**

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                           役割の再定義                                               │
│                                                                                     │
│  【従来】                              【AI駆動後】                                   │
│  ┌─────────────────┐                   ┌─────────────────┐                          │
│  │ 実装エンジニア   │                   │ 立法者（アーキテクト）│                      │
│  │ ・コードを書く   │         →         │ ・ガードレール設計  │                      │
│  │ ・テストを書く   │                   │ ・意図の明文化     │                      │
│  │ ・レビューする   │                   │ ・境界の改正       │                      │
│  └─────────────────┘                   └─────────────────┘                          │
│                                                                                     │
│  【残る人間の役割】                                                                   │
│  ├── 何を実現するかの意思決定                                                        │
│  ├── なぜそうするかの説明                                                           │
│  ├── どこに線を引くかの判断                                                         │
│  └── AIが拾えない文脈・インテントの理解                                              │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

### 9.2 採用・評価への示唆

> **「AI時代の採用を決めるのは、レジュメではなくインテント。」**

| 従来の評価軸 | AI駆動時代の評価軸 |
|-------------|------------------|
| コーディングスキル | **設計・構造を理解する力** |
| 技術知識の広さ | **意図を明文化する力** |
| 実装速度 | **ガードレールを設計する力** |
| 問題解決能力 | **AIと協働する力** |

---

## 10. 成功指標の再定義

### 10.1 従来の指標

| 指標 | 測定方法 |
|------|---------|
| 開発速度 | 機能リリース頻度 |
| 品質 | バグ発生率 |
| コスト | 月額インフラ費用 |

### 10.2 AI駆動時代の新指標

| 指標 | 測定方法 | 目標 |
|------|---------|------|
| **GREENへの復帰時間** | RED発生からGREEN復帰までの時間 | 平均5分以内 |
| **自律実装率** | 人間介入なしで完了したタスク比率 | 80%以上 |
| **ガードレール累積量** | 明文化されたルール数 | 月10件増加 |
| **レビュー時間削減率** | 人間レビュー時間の推移 | 90%削減 |
| **意図→完了リードタイム** | 意図入力から実装完了までの時間 | 従来の1/7 |

---

## 11. リスクと対策（AI駆動観点）

### 11.1 新たなリスク

| リスク | 影響 | 対策 |
|--------|------|------|
| **ガードレール負債** | ルールが現実と乖離 | 共進化プロセスの確立 |
| **AI依存過多** | 判断力の低下 | 立法は必ず人間が行う原則 |
| **暗黙知の消失** | 言語化されない知見の喪失 | 定期的な振り返りと明文化 |
| **司法AIの誤判定** | 正しい実装のREJECT | 人間へのエスカレーションパス |

### 11.2 ガバナンス設計

```
┌─────────────────────────────────────────────────────────────────────────────────────┐
│                          AI駆動ガバナンス                                            │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  【人間が必ず関与するポイント】                                               │   │
│  │                                                                             │   │
│  │  1. ガードレールの新規策定                                                   │   │
│  │  2. ガードレールの改正                                                       │   │
│  │  3. 例外の承認                                                              │   │
│  │  4. 重大なアーキテクチャ変更                                                 │   │
│  │  5. セキュリティに関わる判断                                                 │   │
│  │  6. ユーザー体験に直結する意思決定                                           │   │
│  │                                                                             │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
│  ┌─────────────────────────────────────────────────────────────────────────────┐   │
│  │  【AIに完全委任可能な領域】                                                   │   │
│  │                                                                             │   │
│  │  1. ガードレール内での実装                                                   │   │
│  │  2. テストの作成・実行                                                       │   │
│  │  3. リファクタリング（構造維持）                                             │   │
│  │  4. ドキュメント生成                                                         │   │
│  │  5. コードレビュー（司法AI）                                                 │   │
│  │                                                                             │   │
│  └─────────────────────────────────────────────────────────────────────────────┘   │
│                                                                                     │
└─────────────────────────────────────────────────────────────────────────────────────┘
```

---

## 12. 次のアクション

### 12.1 即座に実行

1. **CLAUDE.md の拡充**
   - アーキテクチャ原則の追加
   - 禁止パターンの明文化
   - テスト戦略の記載

2. **横のガードレール初版作成**
   - Swift用アーキテクチャテストの導入
   - Python用import-linterの設定

3. **司法AI設定**
   - レビューエージェントの権限分離
   - CIへの静的解析統合

### 12.2 Phase 1.5-2で実行

1. **縦のガードレール整備**
   - E2Eテストスイートの構築
   - API契約テストの導入

2. **累積知の蓄積開始**
   - 設計判断の記録
   - 例外とその理由の文書化

3. **共進化の準備**
   - ズレ検出の仕組み構築
   - 改正プロセスの定義

---

## 13. 参考文献

### 外山英幸氏の記事シリーズ

1. [AIが前提になる時代の、組織と採用の再定義](https://note.com/bizreach) - 2025/12/4
2. [AIが前提になる時代の、人とAIの三権分立](https://note.com/bizreach) - 2025/12/11
3. [AIが前提になる時代の、AI駆動プロダクト開発](https://note.com/bizreach) - 2025/12/16
4. [AIが前提になる時代の、縦と横のガードレール](https://note.com/bizreach) - 2025/12/19
5. [AIが前提になる時代の、REDとGREENで変わる技術選定](https://note.com/bizreach) - 2025/12/25

### AI駆動開発リソース

- [Claude CodeによるAI駆動開発入門 | 技術評論社](https://gihyo.jp/book/2025/978-4-297-15275-8)
- [AI駆動開発の実践ガイド2025 | SPONTO](https://sponto.co.jp/insights/ai-driven-development-sponto-2025)
- [Best AI Coding Agents for 2026 | Faros AI](https://www.faros.ai/blog/best-ai-coding-agents-2026)
- [7 Agentic AI Trends to Watch in 2026 | MachineLearningMastery](https://machinelearningmastery.com/7-agentic-ai-trends-to-watch-in-2026/)
- [5 Key Trends Shaping Agentic Development in 2026 | The New Stack](https://thenewstack.io/5-key-trends-shaping-agentic-development-in-2026/)

---

**更新履歴:**
- 2026-01-09: 初版作成（外山英幸氏の思想を統合）
